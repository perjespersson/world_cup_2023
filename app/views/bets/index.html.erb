<div class="row bg-white border-radius m-0 mb-4 box-shadow border">
  <div class="col-lg-12 p-0">
    <h4 class="text-center border-bottom p-4 m-0">Tabell</h4>

    <!-- TODO: Add tooltips -->
    <table class="table table-borderless m-0">
      <thead>
        <tr>
          <th scope="col" class="text-center p-2 text-secondary">#</th>
          <th scope="col" class="p-2 text-secondary">Namn</th>
          <th class="text-center p-2 text-secondary" scope="col">AB</th>
          <th class="text-center p-2 text-secondary" scope="col">V</th>
          <th class="text-center p-2 text-secondary" scope="col">F</th>
          <th class="text-center p-2 text-secondary" scope="col">HR</th>
          <th class="text-center p-2 text-secondary" scope="col">P</th>
        </tr>
      </thead>

      <% @table.each do |row| %>
        <tr class="border-top">
          <td class="text-center p-4"><%= row["rank"] %></td>
          <td class="pt-4 pb-4"><%= row["name"] %></td>
          <td class="text-center p-4"><%= row["total_bets"] %></td>
          <td class="text-center p-4"><%= row["wins"] %></td>
          <td class="text-center p-4"><%= row["losses"] %></td>
          <td class="text-center p-4"><%= row["hit_rate"] %></td>
          <td class="text-center p-4"><%= row["points"] %></td>
        </tr>
      <% end %>
    </table>
  </div>
</div>

<div class="row bg-white border-radius m-0 mb-4 box-shadow border">
  <div class="col-lg-12 p-0">
    <h4 class="text-center table-border-bottom p-4 mb-0">Nuvarande omgång</h4>

    <% @current_games.each do |game| %>
      <%= link_to edit_game_path(game.id), class: 'd-flex justify-content-center align-items-center text-decoration-none p-4 link-dark custom-background-2 table-border-bottom' do %>
        <div style="width: calc(50% - 70px);">
          <p class="text-end my-auto pe-3"><%= game.home_team.name %></p>
        </div>

        <div style="width: 40px;">
          <%= image_tag("flags/#{game.home_team.img}", size: "32x32", class: "mx-auto my-auto d-block") %>
        </div>

        <div style="width: 60px;">
          <% if game.home_team_score.nil? %>
            <p class="text-center my-auto"><%= game.time.strftime("%H:%M") %></p>
          <% else %>
            <p class="text-center my-auto"><%= game.home_team_score %> - <%= game.away_team_score %></p>
          <% end %>
        </div>

        <div style="width: 40px;">
          <%= image_tag("flags/#{game.away_team.img}", size: "32x32") %>
        </div>

        <div style="width: calc(50% - 70px);">
          <p class="text-start my-auto ps-3"><%= game.away_team.name %></p>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<div class="row bg-white border-radius m-0 mb-4 box-shadow border">
  <div class="col-lg-12 p-0">
    <h4 class="text-center table-border-bottom p-4 mb-0">Förgående omgång</h4>

    <% @previous_games.each do |game| %>
      <%= link_to edit_game_path(game.id), class: 'd-flex justify-content-center align-items-center text-decoration-none p-4 link-dark custom-background-2 table-border-bottom' do %>
        <div style="width: calc(50% - 70px);">
          <p class="text-end my-auto pe-3"><%= game.home_team.name %></p>
        </div>

        <div style="width: 40px;">
          <%= image_tag("flags/#{game.home_team.img}", size: "32x32", class: "mx-auto my-auto d-block") %>
        </div>

        <div style="width: 60px;">
          <% if game.home_team_score.nil? %>
            <p class="text-center my-auto"><%= game.time.strftime("%H:%M") %></p>
          <% else %>
            <p class="text-center my-auto"><%= game.home_team_score %> - <%= game.away_team_score %></p>
          <% end %>
        </div>

        <div style="width: 40px;">
          <%= image_tag("flags/#{game.away_team.img}", size: "32x32") %>
        </div>

        <div style="width: calc(50% - 70px);">
          <p class="text-start my-auto ps-3"><%= game.away_team.name %></p>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<div class="row bg-white border-radius m-0 mb-4 box-shadow border">
  <div class="col-lg-12 p-0">
    <h4 class="text-center table-border-bottom p-4 mb-0">Kommande omgång</h4>

    <% @upcoming_games.each do |game| %>
      <%= link_to edit_game_path(game.id), class: 'd-flex justify-content-center align-items-center text-decoration-none p-4 link-dark custom-background-2 table-border-bottom' do %>
        <div style="width: calc(50% - 70px);">
          <p class="text-end my-auto pe-3"><%= game.home_team.name %></p>
        </div>

        <div style="width: 40px;">
          <%= image_tag("flags/#{game.home_team.img}", size: "32x32", class: "mx-auto my-auto d-block") %>
        </div>

        <div style="width: 60px;">
          <% if game.home_team_score.nil? %>
            <p class="text-center my-auto"><%= game.time.strftime("%H:%M") %></p>
          <% else %>
            <p class="text-center my-auto"><%= game.home_team_score %> - <%= game.away_team_score %></p>
          <% end %>
        </div>

        <div style="width: 40px;">
          <%= image_tag("flags/#{game.away_team.img}", size: "32x32") %>
        </div>

        <div style="width: calc(50% - 70px);">
          <p class="text-start my-auto ps-3"><%= game.away_team.name %></p>
        </div>
      <% end %>
    <% end %>
  </div>
</div>